{"version":3,"sources":["assets/loading.gif","App.tsx","Callback.tsx","Dashboard.tsx","index.tsx"],"names":["module","exports","App","className","style","justifyContent","alignItems","display","href","process","backgroundColor","color","Callback","loadingImg","require","history","useHistory","code","URLSearchParams","useLocation","search","get","axios","post","then","res","localStorage","data","access_token","push","catch","err","console","log","height","src","alt","Dashboard","useState","file","setFile","imgStyle","width","marginRight","useEffect","headers","getItem","files","map","f","padding","borderBottom","key","id","iconLink","name","ReactDOM","render","exact","path","document","getElementById"],"mappings":"sLAAAA,EAAOC,QAAU,IAA0B,qC,wFCgC5BC,MApBf,WACE,OACE,yBACEC,UAAU,MACVC,MAAO,CACLC,eAAe,SACfC,WAAW,SACXC,QAAQ,SAGV,uBACEC,KAdA,GAAN,OALc,+CAKd,kBAJY,4DAIZ,wBAHkB,UAGlB,0BAFoB,OAEpB,yBAA2GC,2CAA3G,sBAA2JA,4EAerJL,MAAO,CAACM,gBAAgB,OAAQC,MAAM,UAFxC,kB,uBCKSC,EAvBY,WACzB,IAAMC,EAAaC,EAAQ,IACvBC,EAAUC,cAEVC,EAAO,IAAIC,gBAAgBC,cAAcC,QAAQC,IAAI,QAYzD,OAPAC,IAAMC,KAAN,UAHc,sCAGd,iBAA8BN,EAA9B,sBAAgDR,2EAAhD,0BAAiGA,2BAAjG,yBAAqJA,2CAArJ,uBAFiB,uBAGhBe,MAAK,SAAAC,GACJC,aAAY,aAAmBD,EAAIE,KAAKC,aACxCb,EAAQc,KAAK,iBAEdC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAGxB,uBAAK3B,MAAO,CAAC8B,OAAO,OAAQ3B,QAAQ,OAAQD,WAAW,SAAUD,eAAe,WAC5E,uBAAK8B,IAAKtB,EAAYuB,IAAI,c,QC0BnBC,EA3Ca,WAAO,IAAD,EACRC,qBADQ,mBACzBC,EADyB,KACnBC,EADmB,KAG1BC,EAAW,CACfP,OAAQ,GACRQ,MAAO,GACPC,YAAa,IAgBf,OAbAC,qBAAU,WACRtB,IAAMD,IAAI,qDAAsD,CAC9DwB,QAAS,CACP,cAAgB,UAAhB,OAA2BnB,aAAaoB,QAAQ,oBAGnDtB,MAAK,SAAAC,GACJe,EAAQf,EAAIE,KAAKoB,OACjBf,QAAQC,IAAIR,EAAIE,SAEjBG,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QAC1B,IAGA,2BACGQ,GAAQA,EAAKS,KAAI,SAAAC,GAChB,OACE,uBACA7C,MAAO,CACL8C,QAAQ,YACRC,aAAc,iBACd5C,QAAQ,OACRD,WAAW,UAEb8C,IAAKH,EAAEI,IACL,uBAAKjD,MAAOqC,EAAUN,IAAKc,EAAEK,SAAUlB,IAAI,cAC3C,4BAAOa,EAAEM,Y,QChCrBC,IAASC,OACP,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,KAChB,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,aACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,cACV,kBAAC,EAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.2c40e126.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading.9aed57e1.gif\";","import React from 'react';\nimport './App.css';\n\nconst generateAuthUrl = () => {\n  let baseUrl = 'https://accounts.google.com/o/oauth2/v2/auth';\n  let scope = 'https%3A//www.googleapis.com/auth/drive.metadata.readonly';\n  let access_type = 'offline';\n  let response_type = 'code';\n\n  return `${baseUrl}?scope=${scope}&access_type=${access_type}&response_type=${response_type}&redirect_uri=${process.env.REACT_APP_REDIRECT_URI}&client_id=${process.env.REACT_APP_CLIENT_ID}`\n}\n\nfunction App() {\n  return (\n    <div \n      className=\"App\" \n      style={{\n        justifyContent:\"center\",\n        alignItems:\"center\",\n        display:\"flex\"\n      }}\n    >\n      <a\n        href={generateAuthUrl()}\n        style={{backgroundColor:\"blue\", color:\"white\"}}\n      >\n        Authenticate\n      </a>\n    </div>\n  );\n}\n\nexport default App;\n","import * as React from 'react';\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport axios from 'axios';\n\nconst Callback: React.FC = () => {\n  const loadingImg = require('./assets/loading.gif');\n  let history = useHistory();\n\n  let code = new URLSearchParams(useLocation().search).get(\"code\");\n\n  let baseUrl = 'https://oauth2.googleapis.com/token';\n  let grant_type = 'authorization_code';\n    \n  axios.post(`${baseUrl}?code=${code}&client_id=${process.env.REACT_APP_CLIENT_ID}&client_secret=${process.env.REACT_APP_CLIENT_SECRET}&redirect_uri=${process.env.REACT_APP_REDIRECT_URI}&grant_type=${grant_type}`)\n  .then(res => {\n    localStorage[\"GDRIVE_TOKEN\"] = res.data.access_token;\n    history.push('/dashboard');\n  })\n  .catch(err => console.log(err))\n\n  return(\n    <div style={{height:\"100%\", display:\"flex\", alignItems:\"center\", justifyContent:\"center\"}}>\n        <img src={loadingImg} alt=\"loading\"/>\n    </div>\n  );\n};\n\nexport default Callback;\n","import * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { IFile } from './common/interfaces';\n\nconst Dashboard: React.FC = () => {\n  const [file, setFile] = useState<Array<IFile>>();\n\n  const imgStyle = {\n    height: 25,\n    width: 25,\n    marginRight: 10\n  }\n  \n  useEffect(() => {\n    axios.get('https://www.googleapis.com/drive/v3/files?fields=*', {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem(\"GDRIVE_TOKEN\")}`\n      }\n    })\n    .then(res => {\n      setFile(res.data.files)\n      console.log(res.data)\n    })\n    .catch(err => console.log(err))\n  },[]);\n\n  return(\n    <div>\n      {file && file.map(f => {\n        return(\n          <div \n          style={{\n            padding:\"15px 10px\",\n            borderBottom: \"1px solid gray\",\n            display:\"flex\",\n            alignItems:\"center\"\n          }}\n          key={f.id}>\n            <img style={imgStyle} src={f.iconLink} alt=\"thumbnail\"/>\n            <span>{f.name}</span>\n          </div>\n        )\n      })}\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport Callback from './Callback';\nimport Dashboard from './Dashboard';\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nReactDOM.render(\n  <Router>\n    <Route exact path=\"/\">\n      <App />\n    </Route>\n    <Route path=\"/callback\">\n      <Callback />\n    </Route>\n    <Route path=\"/dashboard\">\n      <Dashboard />\n    </Route>\n  </Router>,\n  document.getElementById('root')\n);"],"sourceRoot":""}