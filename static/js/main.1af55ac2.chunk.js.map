{"version":3,"sources":["assets/loading.gif","App.tsx","Callback.tsx","Dashboard.tsx","index.tsx"],"names":["module","exports","App","className","style","justifyContent","alignItems","display","href","process","backgroundColor","color","Callback","loadingImg","require","history","useHistory","code","URLSearchParams","useLocation","search","get","axios","post","then","res","localStorage","data","access_token","push","catch","err","console","log","height","src","alt","Dashboard","useState","file","setFile","imgStyle","width","marginRight","useEffect","headers","getItem","files","map","f","padding","borderBottom","key","id","iconLink","name","ReactDOM","render","basename","REACT_PUBLIC_URL","exact","path","document","getElementById"],"mappings":"sLAAAA,EAAOC,QAAU,IAA0B,qC,wFCgC5BC,MApBf,WACE,OACE,yBACEC,UAAU,MACVC,MAAO,CACLC,eAAe,SACfC,WAAW,SACXC,QAAQ,SAGV,uBACEC,KAdA,GAAN,OALc,+CAKd,kBAJY,4DAIZ,wBAHkB,UAGlB,0BAFoB,OAEpB,yBAA2GC,2CAA3G,sBAA2JA,6EAerJL,MAAO,CAACM,gBAAgB,OAAQC,MAAM,UAFxC,kB,uBCKSC,EAvBY,WACzB,IAAMC,EAAaC,EAAQ,IACvBC,EAAUC,cAEVC,EAAO,IAAIC,gBAAgBC,cAAcC,QAAQC,IAAI,QAYzD,OAPAC,IAAMC,KAAN,UAHc,sCAGd,iBAA8BN,EAA9B,sBAAgDR,4EAAhD,0BAAiGA,2BAAjG,yBAAqJA,2CAArJ,uBAFiB,uBAGhBe,MAAK,SAAAC,GACJC,aAAY,aAAmBD,EAAIE,KAAKC,aACxCb,EAAQc,KAAK,iBAEdC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAGxB,uBAAK3B,MAAO,CAAC8B,OAAO,OAAQ3B,QAAQ,OAAQD,WAAW,SAAUD,eAAe,WAC5E,uBAAK8B,IAAKtB,EAAYuB,IAAI,c,QC0BnBC,EA3Ca,WAAO,IAAD,EACRC,qBADQ,mBACzBC,EADyB,KACnBC,EADmB,KAG1BC,EAAW,CACfP,OAAQ,GACRQ,MAAO,GACPC,YAAa,IAgBf,OAbAC,qBAAU,WACRtB,IAAMD,IAAI,qDAAsD,CAC9DwB,QAAS,CACP,cAAgB,UAAhB,OAA2BnB,aAAaoB,QAAQ,oBAGnDtB,MAAK,SAAAC,GACJe,EAAQf,EAAIE,KAAKoB,OACjBf,QAAQC,IAAIR,EAAIE,SAEjBG,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QAC1B,IAGA,2BACGQ,GAAQA,EAAKS,KAAI,SAAAC,GAChB,OACE,uBACA7C,MAAO,CACL8C,QAAQ,YACRC,aAAc,iBACd5C,QAAQ,OACRD,WAAW,UAEb8C,IAAKH,EAAEI,IACL,uBAAKjD,MAAOqC,EAAUN,IAAKc,EAAEK,SAAUlB,IAAI,cAC3C,4BAAOa,EAAEM,Y,QChCrBC,IAASC,OACP,kBAAC,IAAD,CAAeC,SAAQ,UAAKjD,qVAAYkD,iBAAjB,MACrB,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,KAChB,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,aACV,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,cACV,kBAAC,EAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.1af55ac2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading.9aed57e1.gif\";","import React from 'react';\r\nimport './App.css';\r\n\r\nconst generateAuthUrl = () => {\r\n  let baseUrl = 'https://accounts.google.com/o/oauth2/v2/auth';\r\n  let scope = 'https%3A//www.googleapis.com/auth/drive.metadata.readonly';\r\n  let access_type = 'offline';\r\n  let response_type = 'code';\r\n\r\n  return `${baseUrl}?scope=${scope}&access_type=${access_type}&response_type=${response_type}&redirect_uri=${process.env.REACT_APP_REDIRECT_URI}&client_id=${process.env.REACT_APP_CLIENT_ID}`\r\n}\r\n\r\nfunction App() {\r\n  return (\r\n    <div \r\n      className=\"App\" \r\n      style={{\r\n        justifyContent:\"center\",\r\n        alignItems:\"center\",\r\n        display:\"flex\"\r\n      }}\r\n    >\r\n      <a\r\n        href={generateAuthUrl()}\r\n        style={{backgroundColor:\"blue\", color:\"white\"}}\r\n      >\r\n        Authenticate\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import * as React from 'react';\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport axios from 'axios';\r\n\r\nconst Callback: React.FC = () => {\r\n  const loadingImg = require('./assets/loading.gif');\r\n  let history = useHistory();\r\n\r\n  let code = new URLSearchParams(useLocation().search).get(\"code\");\r\n\r\n  let baseUrl = 'https://oauth2.googleapis.com/token';\r\n  let grant_type = 'authorization_code';\r\n    \r\n  axios.post(`${baseUrl}?code=${code}&client_id=${process.env.REACT_APP_CLIENT_ID}&client_secret=${process.env.REACT_APP_CLIENT_SECRET}&redirect_uri=${process.env.REACT_APP_REDIRECT_URI}&grant_type=${grant_type}`)\r\n  .then(res => {\r\n    localStorage[\"GDRIVE_TOKEN\"] = res.data.access_token;\r\n    history.push('/dashboard');\r\n  })\r\n  .catch(err => console.log(err))\r\n\r\n  return(\r\n    <div style={{height:\"100%\", display:\"flex\", alignItems:\"center\", justifyContent:\"center\"}}>\r\n        <img src={loadingImg} alt=\"loading\"/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Callback;\r\n","import * as React from 'react';\r\nimport { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { IFile } from './common/interfaces';\r\n\r\nconst Dashboard: React.FC = () => {\r\n  const [file, setFile] = useState<Array<IFile>>();\r\n\r\n  const imgStyle = {\r\n    height: 25,\r\n    width: 25,\r\n    marginRight: 10\r\n  }\r\n  \r\n  useEffect(() => {\r\n    axios.get('https://www.googleapis.com/drive/v3/files?fields=*', {\r\n      headers: {\r\n        'Authorization': `Bearer ${localStorage.getItem(\"GDRIVE_TOKEN\")}`\r\n      }\r\n    })\r\n    .then(res => {\r\n      setFile(res.data.files)\r\n      console.log(res.data)\r\n    })\r\n    .catch(err => console.log(err))\r\n  },[]);\r\n\r\n  return(\r\n    <div>\r\n      {file && file.map(f => {\r\n        return(\r\n          <div \r\n          style={{\r\n            padding:\"15px 10px\",\r\n            borderBottom: \"1px solid gray\",\r\n            display:\"flex\",\r\n            alignItems:\"center\"\r\n          }}\r\n          key={f.id}>\r\n            <img style={imgStyle} src={f.iconLink} alt=\"thumbnail\"/>\r\n            <span>{f.name}</span>\r\n          </div>\r\n        )\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport Callback from './Callback';\r\nimport Dashboard from './Dashboard';\r\nimport { BrowserRouter, Route } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter basename={`${process.env.REACT_PUBLIC_URL}/`}>\r\n    <Route exact path=\"/\">\r\n      <App />\r\n    </Route>\r\n    <Route path=\"/callback\">\r\n      <Callback />\r\n    </Route>\r\n    <Route path=\"/dashboard\">\r\n      <Dashboard />\r\n    </Route>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}